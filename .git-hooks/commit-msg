#!/usr/bin/env bash
# Simple conventional commits check: type(scope?): subject
PATTERN='^(feat|fix|docs|style|refactor|perf|test|build|ci|chore|revert)(\([a-z0-9-_]+\))?: .+'
MSG_FILE="$1"
if ! grep -Pq "$PATTERN" "$MSG_FILE"; then
  echo "Commit message does not follow Conventional Commits." >&2
  echo "Example: feat(auth): add JWT refresh" >&2
  exit 1
fi
